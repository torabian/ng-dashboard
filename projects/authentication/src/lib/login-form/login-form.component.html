<lib-progress-line *ngIf="isRequesting"></lib-progress-line>
<lib-error-message *ngIf="response && response.error">
  {{response.error.message}}
</lib-error-message>
<div class="container-login">
  <div class="wrap-login">
    <form>
      <div class="login-header">
        <span>{{'Sign-in' | translate}}</span>
        <p >{{loginDialog | translate}}</p>
      </div>

      <div class="form-group">
        <label translate>{{'Username (email)' | translate}}</label>
        <input type="text" class="form-control app-login-form-email"   name="email" [(ngModel)]="form.email">
        <span class="focus-input" data-placeholder="Email"></span>
        <span class="error-message" *ngIf="error(response, 'email')">{{error(response, 'email')}}</span>

      </div>

      <div class="form-group" style="position: relative;">

        <label>{{'Password'| translate}}</label>
        <input class="app-login-form-password form-control " [type]="passwordVisibility ? 'text' : 'password'" name="password" [(ngModel)]="form.password">
        <span class="focus-input" data-placeholder="Password"></span>
        <span class="error-message" *ngIf="error(response, 'password')">{{error(response, 'password')}}</span>

        <span class="btn-show-pass" (click)="togglePassword();">
          <i [ngClass]="{'icon-visibility_off': passwordVisibility, 'icon-visibility': (!passwordVisibility)}"></i>
        </span>
      </div>

      <div class="form-group login-button">
        <button class="btn btn-primary btn-block app-login-form-submit" (click)="login($event);" translate>
          {{'Login'| translate}}
        </button>

        <div *ngIf="alternativeLogins.length">
          <div class="sso-description" translate>
            {{'or alternatively login with:'| translate}}
          </div>

          <ng-container *ngFor="let item of alternativeLogins">
            <ng-container *ngIf="item.type === 'facebook'">
              <button *ngIf="!isLoggedInByFacebook" class="btn-facebook btn btn-primary btn-block app-login-facebook-submit" (click)="loginFacebook();">
                <i class="fa fa-facebook"></i>
                <span translate>{{'Login by facebook'| translate}}</span>
              </button>
              <button *ngIf="isLoggedInByFacebook" class="btn-facebook btn btn-primary btn-block app-login-facebook-continue" (click)="continueWithFacebook();">
                <i class="fa fa-facebook"></i>
                <span translate>{{'Continue with facebook' | translate}}</span>
              </button>
            </ng-container>
          </ng-container>

        </div>
      </div>

      <div class="">
        <span translate>{{'Donâ€™t have an account?' | translate}}</span>
        <a routerLink="/signup" class="app-signup-button">
          {{'Sign Up'| translate}}
        </a>
        <br>
        <a routerLink="/forgot-password" class="app-forget-password-link" translate>
          {{'Forgot Password?'| translate}}
        </a>
      </div>
    </form>
  </div>
</div>
