<form [formGroup]="form">
  <ng-page-container
    maintitle="{{ 'invite_form' | t }}"
    subtitle="{{ 'invite_form_description' | t }}"
  >
    <div class="row" *ngIf="form">
      <ngd-form-text
        formControlName="email"
        field="email"
        [optional]="false"
        id="invite-form-email-input"
        label="{{ 'email' | t }}"
        [edit]="isEditing && !form.value.readonly"
        [res]="res"
        [submit]="submitRes"
        placeholder="{{ 'email_placeholder' | t }}"
      ></ngd-form-text>
    </div>

    <div class="row">
      <ng-form-multiselect
        class="col-12"
        formControlName="roles"
        field="roles"
        id="invite-role-input"
        label="{{ 'invitation_roles_label' | t }}"
        [edit]="isEditing && !form.value.readonly"
        [optional]="false"
        [res]="res"
        [submit]="submitRes"
        placeholder="{{ 'invitation_roles_placeholder' | t }}"
        [items]="roles"
      ></ng-form-multiselect>
    </div>

    <br />

    <div class="row">
      <ngd-form-text
        formControlName="firstname"
        field="firstname"
        id="invite-form-firstname-input"
        label="{{ 'firstname' | t }}"
        [edit]="isEditing && !form.value.readonly"
        [optional]="false"
        [autofocus]="true"
        [res]="res"
        [submit]="submitRes"
        placeholder="{{ 'invite_form_first_name' | t }}"
      ></ngd-form-text>

      <ngd-form-text
        formControlName="lastname"
        field="lastname"
        id="invite-form-lastname-input"
        label="{{ 'lastname' | t }}"
        [edit]="isEditing && !form.value.readonly"
        [res]="res"
        [submit]="submitRes"
        placeholder="{{ 'lastname_placeholder' | t }}"
      ></ngd-form-text>

      <ngd-form-text
        formControlName="phone"
        field="phone"
        id="invite-form-phone-input"
        label="{{ 'phone' | t }}"
        [edit]="isEditing && !form.value.readonly"
        [res]="res"
        [submit]="submitRes"
        placeholder="{{ 'phone_placeholder' | t }}"
      ></ngd-form-text>
    </div>
    <button [disabled]="working" (click)="onSubmit()" class="btn btn-primary">
      {{ (form.value.id ? 'update_invitation' : 'create_invitation') | t }}
    </button>
  </ng-page-container>
</form>
