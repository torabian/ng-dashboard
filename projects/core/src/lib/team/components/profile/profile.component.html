<ng-page-container
  maintitle="{{ 'languages' | t }}"
  subtitle="{{ 'languages_description' | t }}"
>
  <button
    (click)="changeLanguage('en')"
    class="btn btn-primary"
    *ngIf="language === 'pl'"
  >
    {{ 'switch_to_english' | t }}
  </button>

  <button
    (click)="changeLanguage('pl')"
    class="btn btn-primary"
    *ngIf="language === 'en'"
  >
    {{ 'switch_to_polish' | t }}
  </button>
</ng-page-container>

<ng-page-container
  maintitle="{{ 'my_profile_avatar' | t }}"
  subtitle="{{ 'my_profile_avatar_description' | t }}"
>
  <div
    class="lottie-container"
    *ngIf="!Form || !Form.picture || !Form.picture.publicUrl"
  >
    <ngd-lottie
      width="140px"
      height="140px"
      [options]="{ path: 'assets/animations/profile.json' }"
    ></ngd-lottie>
  </div>

  <div
    class="user-profile-image"
    *ngIf="Form && Form.picture && Form.picture.publicUrl"
  >
    <img [src]="Form.picture.publicUrl" class="profile-picture" />
  </div>

  <br />
  <button (click)="OpenAvatarDialog()" class="btn btn-primary">
    {{ 'upload_new_avatar' | t }}
  </button>
</ng-page-container>

<form [formGroup]="form">
  <ng-page-container
    maintitle="{{ 'my_profile' | t }}"
    subtitle="{{ 'my_profile_description' | t }}"
  >
    <div class="row">
      <ngd-form-text
        formControlName="email"
        field="email"
        id="user-form-email-input"
        [optional]="false"
        label="{{ 'email' | t }}"
        [edit]="false"
        [res]="res"
        [submit]="submitRes"
        placeholder="{{ 'email_placeholder' | t }}"
      ></ngd-form-text>
      <div class="col-12 email-cannot-changed">
        <div>{{ 'email_cannot_be_changed' | t }}</div>
      </div>

      <ngd-form-text
        formControlName="firstname"
        field="firstname"
        id="user-form-firstname-input"
        label="{{ 'firstname' | t }}"
        [edit]="isEditing"
        [res]="res"
        [submit]="submitRes"
        placeholder="{{ 'firstname_place_holder' | t }}"
      ></ngd-form-text>

      <ngd-form-text
        formControlName="lastname"
        field="lastname"
        id="user-form-lastname-input"
        label="{{ 'lastname' | t }}"
        [edit]="isEditing"
        [res]="res"
        [submit]="submitRes"
        placeholder="{{ 'lastname_place_holder' | t }}"
      ></ngd-form-text>

      <ngd-form-text
        formControlName="phone"
        field="phone"
        id="user-form-phone-input"
        label="{{ 'phone' | t }}"
        [edit]="isEditing"
        [res]="res"
        [submit]="submitRes"
        placeholder="{{ 'phone_place_holder' | t }}"
      ></ngd-form-text>
    </div>
    <button
      [disabled]="working"
      type="submit"
      (click)="onSubmit()"
      class="btn btn-primary"
    >
      {{ 'update_profile' | t }}
    </button>
  </ng-page-container>
</form>

<ng-page-container
  maintitle="{{ 'delete_account' | t }}"
  subtitle="{{ 'delete_account_description' | t }}"
>
  <p>{{ 'delete_account_explanation' | t }}</p>

  <button (click)="deleteAccount()" class="btn btn-danger">
    {{ 'delete_my_account' | t }}
  </button>
</ng-page-container>
